<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài tập JS</title>
    <style>
        body { font-family: monospace; max-width: 800px; margin: 20px auto; background: #f4f4f4; }
        .box { background: #fff; padding: 15px; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ddd; }
        h3 { margin-top: 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .output { white-space: pre-wrap; color: #007bff; }
    </style>
</head>
<body>

    <div class="box">
        <h3>Câu 2: Danh sách gốc</h3>
        <div id="out-c2" class="output"></div>
    </div>
    <div class="box">
        <h3>Câu 3: Name & Price</h3>
        <div id="out-c3" class="output"></div>
    </div>
    <div class="box">
        <h3>Câu 4: Còn hàng (Quantity > 0)</h3>
        <div id="out-c4" class="output"></div>
    </div>
    <div class="box">
        <h3>Thống kê (Câu 5, 6, 7)</h3>
        <div id="out-stats" class="output"></div>
    </div>
    <div class="box">
        <h3>Câu 8: Duyệt For...of</h3>
        <div id="out-c8" class="output"></div>
    </div>
    <div class="box">
        <h3>Câu 9: Duyệt For...in (Item 1)</h3>
        <div id="out-c9" class="output"></div>
    </div>
    <div class="box">
        <h3>Câu 10: Đang bán & Còn hàng</h3>
        <div id="out-c10" class="output"></div>
    </div>

<script>
    // --- DATA & LOGIC ---
    function Product(id, name, price, quantity, category, isAvailable) {
        this.id = id; this.name = name; this.price = price; 
        this.quantity = quantity; this.category = category; this.isAvailable = isAvailable;
    }
    const products = [
        new Product(1, "iPhone 15 Pro", 32000000, 10, "Phone", true),
        new Product(2, "Samsung S24 Ultra", 31000000, 5, "Phone", true),
        new Product(3, "MacBook Air M2", 28000000, 0, "Laptop", false),
        new Product(4, "Dell XPS 13", 35000000, 2, "Laptop", true),
        new Product(5, "Chuột Logitech", 500000, 100, "Accessories", true),
        new Product(6, "Bàn phím cơ", 1500000, 0, "Accessories", true),
        new Product(7, "Tai nghe Sony", 2000000, 15, "Accessories", true)
    ];
    const fmt = (m) => m.toLocaleString('vi-VN') + ' đ';
    const setText = (id, txt) => document.getElementById(id).innerText = txt;

    // --- OUTPUT ---
    // Câu 2
    setText("out-c2", JSON.stringify(products, null, 2));

    // Câu 3
    const c3 = products.map(p => `${p.name} - ${fmt(p.price)}`).join("\n");
    setText("out-c3", c3);

    // Câu 4
    const c4 = products.filter(p => p.quantity > 0).map(p => `• ${p.name} (SL: ${p.quantity})`).join("\n");
    setText("out-c4", c4);

    // Câu 5, 6, 7
    const c5 = products.some(p => p.price > 30000000);
    const c6 = products.filter(p => p.category === 'Accessories').every(p => p.isAvailable);
    const c7 = products.reduce((sum, p) => sum + (p.price * p.quantity), 0);
    setText("out-stats", `Câu 5 (>30tr): ${c5}\nCâu 6 (All Accs bán): ${c6}\nCâu 7 (Tổng): ${fmt(c7)}`);

    // Câu 8
    let c8 = "";
    for(const p of products) c8 += `${p.name} | ${p.category} | ${p.isAvailable}\n`;
    setText("out-c8", c8);

    // Câu 9
    let c9 = "";
    for(const k in products[0]) c9 += `${k}: ${products[0][k]}\n`;
    setText("out-c9", c9);

    // Câu 10
    const c10 = products.filter(p => p.isAvailable && p.quantity > 0).map(p => p.name).join(", ");
    setText("out-c10", c10);
</script>
</body>
</html>